{% extends "base.html" %}
{% block title %}وضعیت تیم‌ها{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto mt-10 px-4">

  <h1 class="text-3xl font-bold text-brand mb-6"> وضعیت تیم‌ها</h1>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

    {% for t in teams %}
    <div class="border border-gray-200 shadow-sm rounded-xl p-5 bg-white hover:shadow-md transition">

      <h2 class="text-xl font-bold text-brand mb-2">{{ t.name }}</h2>

      <p class="text-sm text-gray-700 mb-1">
        نماینده: <span class="font-semibold">{{ t.representative.get_full_name }}</span>
      </p>

      <p class="text-sm text-gray-700 mb-3">
        اعضا: {{ t.members.count }} نفر
      </p>

      <div class="text-sm text-gray-700 space-y-1 mb-4">
        <p>انتخاب ۱: <strong>{{ t.project_choice_1|default:"-" }}</strong></p>
        <p>انتخاب ۲: <strong>{{ t.project_choice_2|default:"-" }}</strong></p>
        <p>انتخاب ۳: <strong>{{ t.project_choice_3|default:"-" }}</strong></p>
      </div>

      {% if t.final_project %}
      <p class="text-sm text-green-700 font-semibold mb-3">
        پروژه نهایی: {{ t.final_project }}
      </p>
      {% else %}
      <p class="text-sm text-red-500 font-semibold mb-3">
        پروژه نهایی انتخاب نشده
      </p>
      {% endif %}

      <span class="inline-block px-3 py-1 text-xs font-bold rounded-full
        {% if t.status == 'draft' %} bg-gray-200 text-gray-700
        {% elif t.status == 'submitted' %} bg-yellow-200 text-yellow-800
        {% else %} bg-green-200 text-green-800 {% endif %}">
        {{ t.get_status_display }}
      </span>

    </div>
    {% endfor %}

  </div>
</div>
{% endblock %}
